# C Primer Plus 第六章 - 循环结构（修订版）

## 2025/10/21 C控制语句：循环

## 1. while语句

### 1.1 while语句的通用形式
```c
while (expression)
    statement
```

**说明：**
- **expression**：可以是任意表达式，必须有确定的值
- 当expression为真（非0）时，执行statement
- 每次执行statement称为一次**迭代**
- statement可以是简单语句或代码块
- 循环在expression为0时终止

### 1.2 入口条件循环
while是**入口条件循环**，只有在expression为非0时才开始循环。

**示例：**
```c
int i = 0;
while (i < 5) {
    printf("i = %d\n", i);
    i++;
}
```

## 2. 关系运算符

### 2.1 基本概念
- 用于比较两个数值，构建关系表达式
- 关系运算符种类参考书本P121-P122

### 2.2 注意事项
- 比较浮点数时，尽量使用 `<` 和 `>`，避免舍入误差
- 关系运算符优先级仅比赋值运算符高

## 3. for循环

### 3.1 for循环的一般结构
```c
for (initialize; test; update)
    statement
```

**执行流程：**
1. `initialize`：初始化，只执行一次
2. `test`：测试条件，为真则执行循环体
3. `statement`：执行循环体语句
4. `update`：更新表达式，每次循环结束执行

**示例：**
```c
for (int i = 0; i < 5; i++) {
    printf("i = %d\n", i);
}
```

## 4. 其他赋值运算符

### 4.1 复合赋值运算符
- `+=`、`-=`、`*=`、`/=`、`%=`
- 参考书本P132

**示例：**
```c
int x = 5;
x += 3;  // 等价于 x = x + 3
```

## 5. 逗号运算符

### 5.1 基本用法
- 用于分隔两个表达式
- 确保表达式从左往右执行
- 左端表达式先于右端表达式执行

**示例：**
```c
int x = 0, y = 0;
int result = (x++, y++);  // 先执行x++，再执行y++
```

## 6. do-while循环

### 6.1 出口条件循环
```c
do {
    statement;
} while (expression);
```

**特点：**
- 先执行循环体，再判断条件
- 至少执行一次循环体

**示例：**
```c
int i = 0;
do {
    printf("i = %d\n", i);
    i++;
} while (i < 5);
```

## 7. 嵌套循环

### 7.1 基本概念
- 一个循环内包含一个或多个循环
- 常用于处理多维数据

**示例：**
```c
for (int i = 0; i < 3; i++) {
    for (int j = 0; j < 3; j++) {
        printf("(%d, %d) ", i, j);
    }
    printf("\n");
}
```

## 8. 数组简介

### 8.1 基本概念
- 一系列相同类型元素的集合
- 通过数组名和下标访问元素

### 8.2 关键术语
- **数组下标**：访问数组元素的索引
- **索引**：表示元素在数组中的位置
- **偏移量**：元素相对于数组首地址的内存偏移
  - 计算公式：`偏移量 = 下标 × 元素类型大小`

### 8.3 数组特性
- 在内存中连续存储
- 通过基地址 + 偏移量访问元素

**示例：**
```c
int arr[5] = {1, 2, 3, 4, 5};
printf("第一个元素: %d\n", arr[0]);    // 下标0
printf("第二个元素: %d\n", arr[1]);    // 下标1
```

## 9. 循环控制语句（补充）

### 9.1 break语句
- 立即终止当前循环

### 9.2 continue语句
- 跳过本次循环的剩余部分，进入下一次循环

**示例：**
```c
for (int i = 0; i < 10; i++) {
    if (i == 5) break;     // 当i=5时终止循环
    if (i % 2 == 0) continue; // 跳过偶数
    printf("%d ", i);
}
```

---

## 📝 学习建议
1. 多动手编写代码，理解各种循环的执行流程
2. 注意循环的边界条件，避免无限循环
3. 合理使用嵌套循环处理复杂问题
4. 掌握数组与循环的结合使用
