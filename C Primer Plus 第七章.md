# C控制语句 - 分支与循环
*学习记录 - 2025年10月29日*

## 条件判断语句

### if语句
**标准形式：**
```c
if(表达式)
    语句
```
- 括号内的表达式必须有确定的值
- 表达式值为**非零**（在C语言中即为"真"）时执行语句
- 表达式值为**0**（"假"）时跳过语句，执行后续代码
- 复合语句（花括号{}包围的代码块）与简单语句均视为一条语句

**示例：**
```c
int i = 0;
// ...
if(i < 0)
{
    printf("i是负数\n");
    // 其他操作...
}
// 后续代码...
```

### if-else语句
**双重选择结构：**
```c
if(表达式)
    语句1
else
    语句2
```
- 表达式为真 → 执行语句1
- 表达式为假 → 执行语句2

### else-if语句
**多重选择结构：**
```c
if(表达式1)
    语句1
else if(表达式2)
    语句2
// 可以继续添加多个else if
// ...
else
    语句n
```
- 按顺序检查每个条件
- 第一个为真的条件对应的语句被执行
- 所有条件都不满足时执行else分支
- 如果没有else分支，则跳过整个结构

## 逻辑运算符

### 三种逻辑运算符：
1. **&&（逻辑与）**：两端都为真时结果为1，否则为0
2. **||（逻辑或）**：至少一端为真时结果为1，两端都为假时结果为0  
3. **!（逻辑非）**：真变假，假变真

### 重要特性：
- 优先级很高，仅低于圆括号
- 逻辑运算符构成序列点：左侧表达式的所有副作用在右侧表达式求值前完成

**示例分析：**
```c
y = 10 > 3 && 2 < 1;
// 执行过程：
// 1. 10 > 3 → 真(1)
// 2. 2 < 1 → 假(0)  
// 3. 1 && 0 → 0
// 4. y被赋值为0
```

## 条件运算符 ?:
**三元运算符：**
```c
表达式 ? 语句1 : 语句2
```
- 表达式为真 → 执行语句1，整个表达式的值为语句1的值
- 表达式为假 → 执行语句2，整个表达式的值为语句2的值

## 循环控制语句

### 循环辅助关键字

#### continue
- 立即跳转到**循环条件判断处**
- 跳过当前迭代中剩余的语句
- 开始下一次循环迭代

#### break
- 立即退出**所在循环**
- 仅可在循环结构和switch语句中使用

### 主要循环结构

#### while循环
```c
while(条件表达式)
{
    // 循环体
    // 当条件为真时重复执行
}
```

#### for循环
```c
for(初始化; 条件判断; 更新)
{
    // 循环体
}
```

#### do-while循环
```c
do
{
    // 循环体
    // 至少执行一次
} while(条件表达式);
```

## switch多重选择结构

**完整语法：**
```c
switch(整型表达式)
{
    case 常量1:
        语句1;
        break;
    case 常量2:
        语句2;
        break;
    // 更多case...
    default:
        默认语句;
        break;
}
```

**执行机制：**
1. 计算整型表达式的值
2. 跳转到匹配的case标签处开始执行
3. 如果没有匹配的case，执行default分支
4. 遇到`break`时立即跳出整个switch结构
5. 如果没有`break`，会继续执行后续case的语句（"case穿透"现象）

**注意事项：**
- case标签必须是**整型常量表达式**，不能是变量
- 合理使用break防止意外的case穿透

## goto语句

**使用建议：**
- **尽量避免使用**以保持代码的可读性和可维护性
- **合理使用场景**：
  - 多层嵌套循环的快速跳出
  - 错误处理时的集中清理

**示例（合理使用）：**
```c
for(...) {
    for(...) {
        if(严重错误)
            goto error_handle;
    }
}

error_handle:
// 执行清理操作
```

---

## 学习总结

本文档涵盖了C语言中主要的分支和循环控制结构，包括：
- 条件判断：if、if-else、else-if
- 逻辑运算：&&、||、!
- 条件运算符：?:
- 循环控制：continue、break
- 循环结构：while、for、do-while  
- 多重选择：switch-case
- 跳转语句：goto

掌握这些控制语句是编写结构化、逻辑清晰的C程序的基础。